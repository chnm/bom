(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{360:function(e,t,o){var content=o(362);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(76).default)("7be48644",content,!0,{sourceMap:!1})},362:function(e,t,o){var n=o(74)((function(i){return i[1]}));n.push([e.i,'.vue-slider-disabled .vue-slider-process{background-color:#a7a7a7}.vue-slider-disabled .vue-slider-dot-handle{border-color:#a7a7a7}.vue-slider-disabled .vue-slider-mark-step-active{box-shadow:0 0 0 2px #a7a7a7}.vue-slider-rail{background-color:#f5f5f5;border-radius:15px;transition:background-color .3s}.vue-slider:hover .vue-slider-rail{background-color:#e1e1e1}.vue-slider-process{background-color:#9cd5ff;border-radius:15px;transition:background-color .3s}.vue-slider:hover .vue-slider-process{background-color:#69c0ff}.vue-slider-mark-step{width:100%;height:100%;border-radius:50%;box-shadow:0 0 0 2px #e8e8e8;background-color:#fff}.vue-slider-mark-step-active{box-shadow:0 0 0 2px #9cd5ff}.vue-slider:hover .vue-slider-mark-step-active{box-shadow:0 0 0 2px #69c0ff}.vue-slider-mark-label{font-size:12px;white-space:nowrap}.vue-slider-dot-handle{cursor:pointer;width:100%;height:100%;border-radius:50%;background-color:#fff;border:2px solid #9cd5ff;box-sizing:border-box;transition:box-shadow .3s,border-color .3s}.vue-slider:hover .vue-slider-dot-handle{border-color:#69c0ff}.vue-slider-dot-handle-focus{border-color:#36abff;box-shadow:0 0 0 5px rgba(54,171,255,.2)}.vue-slider-dot-handle:hover,.vue-slider:hover .vue-slider-dot-handle-focus,.vue-slider:hover .vue-slider-dot-handle:hover{border-color:#36abff}.vue-slider-dot-handle-disabled{cursor:not-allowed;border-color:#ddd!important}.vue-slider-dot-tooltip{opacity:0;visibility:hidden;transition:all .3s}.vue-slider-dot-tooltip-inner{font-size:14px;white-space:nowrap;padding:6px 8px;color:#fff;border-radius:5px;border-color:rgba(0,0,0,.75);background-color:rgba(0,0,0,.75);box-shadow:0 2px 8px rgba(0,0,0,.15);transform:scale(.9);transition:transform .3s}.vue-slider-dot-tooltip-inner:after{content:"";position:absolute}.vue-slider-dot-tooltip-inner-top:after{top:100%;left:50%;transform:translate(-50%);height:0;width:0;border:5px solid transparent;border-top-color:inherit}.vue-slider-dot-tooltip-inner-bottom:after{bottom:100%;left:50%;transform:translate(-50%);height:0;width:0;border:5px solid transparent;border-bottom-color:inherit}.vue-slider-dot-tooltip-inner-left:after{left:100%;top:50%;transform:translateY(-50%);height:0;width:0;border:5px solid transparent;border-left-color:inherit}.vue-slider-dot-tooltip-inner-right:after{right:100%;top:50%;transform:translateY(-50%);height:0;width:0;border:5px solid transparent;border-right-color:inherit}.vue-slider-dot-tooltip-inner-top{transform-origin:50% 100%}.vue-slider-dot-tooltip-inner-bottom{transform-origin:50% 0}.vue-slider-dot-tooltip-inner-left{transform-origin:100% 50%}.vue-slider-dot-tooltip-inner-right{transform-origin:0 50%}.vue-slider-dot-tooltip-show,.vue-slider-dot:hover .vue-slider-dot-tooltip{opacity:1;visibility:visible}.vue-slider-dot-tooltip-show .vue-slider-dot-tooltip-inner,.vue-slider-dot:hover .vue-slider-dot-tooltip .vue-slider-dot-tooltip-inner{transform:scale(1)}',""]),n.locals={},e.exports=n},386:function(e,t,o){var content=o(470);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(76).default)("20507dd8",content,!0,{sourceMap:!1})},469:function(e,t,o){"use strict";o(386)},470:function(e,t,o){var n=o(74)((function(i){return i[1]}));n.push([e.i,".lds-ellipsis[data-v-26dca80d]{display:inline-block;position:relative;width:64px;height:64px}.lds-ellipsis div[data-v-26dca80d]{position:absolute;top:27px;width:11px;height:11px;border-radius:50%;background:#ddd;animation-timing-function:cubic-bezier(0,1,1,0)}.lds-ellipsis div[data-v-26dca80d]:first-child{left:6px;animation:lds-ellipsis1-data-v-26dca80d .6s infinite}.lds-ellipsis div[data-v-26dca80d]:nth-child(2){left:6px;animation:lds-ellipsis2-data-v-26dca80d .6s infinite}.lds-ellipsis div[data-v-26dca80d]:nth-child(3){left:26px;animation:lds-ellipsis2-data-v-26dca80d .6s infinite}.lds-ellipsis div[data-v-26dca80d]:nth-child(4){left:45px;animation:lds-ellipsis3-data-v-26dca80d .6s infinite}@keyframes lds-ellipsis1-data-v-26dca80d{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes lds-ellipsis3-data-v-26dca80d{0%{transform:scale(1)}to{transform:scale(0)}}@keyframes lds-ellipsis2-data-v-26dca80d{0%{transform:translate(0)}to{transform:translate(19px)}}",""]),n.locals={},e.exports=n},488:function(e,t,o){"use strict";o.r(t);o(46),o(22),o(93),o(94),o(45),o(77);var n=o(75),r=o.n(n),l=o(358),d=o.n(l),c=(o(360),{name:"BoM",components:{VueSlider:d.a},data:function(){return{isLoading:!1,isLoaded:!0,checked:!1,showModal:!1,errors:[],countType:["All","Buried","Plague"],filteredCountType:"All",filteredParishNames:[],totalParishes:[],parishNames:[],filteredGeneralData:[],filteredYears:[1640,1752],totalGeneralBills:[],totalRecords:0,countTypeGeneral:["All","Total"],dotOptions:[{tooltip:"always"},{tooltip:"always"}],parishColumns:[{label:"Parish",field:"name",filterOptions:{enabled:!0,placeholder:"Search for parish name"}},{label:"Count Type",field:"count_type"},{label:"Count",field:"count",type:"number"},{label:"Week Number",field:"week_no",type:"number"},{label:"Year",field:"year",type:"date",dateInputFormat:"yyyy",dateOutputFormat:"yyyy"}]}},computed:{filteredData:function(){var e=this,t=this.filteredParishNames,o=this.filteredYears,n=this.filteredCountType;return this.totalParishes.filter((function(e){return"All"===n?e:"Buried"===n?"Buried"===e.count_type:"Plague"===n?"Plague"===e.count_type:"Total"===n?"Total"===e.count_type:e})).filter((function(r){return 0===t.length&&o===[1640,1790]&&"All"===n?e.totalParishes:t.length>0&&"All"===n||t.length>0?r.year>=o[0]&&r.year<=o[1]&&t.includes(r.name):r.year>=o[0]&&r.year<=o[1]}))}},mounted:function(){var e=this;r.a.get("https://data.chnm.org/bom/generalbills?startYear="+this.filteredYears[0]+"&endYear="+this.filteredYears[1]).then((function(t){e.totalParishes=t.data})).catch((function(t){e.errors.push(t),console.log(e.errors)}))},methods:{log:function(e){console.log(e)},reloadData:function(){var e=this;this.isLoading=!0,this.isLoaded=!1,setTimeout((function(){e.isLoading=!1,e.isLoaded=!0}),1e3)},onRowClick:function(e){console.log("row clicked",e)},toggleAllParishCheckboxes:function(){this.filteredParishNames=[]},resetFilters:function(){this.filteredParishNames=[],this.filteredYears=[1640,1752],this.filteredCountType="All"}}}),h=(o(469),o(60)),component=Object(h.a)(c,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"flex flex-wrap"},[o("div",{staticClass:"w-full px-12 py-8"},[o("div",{staticClass:"accordion",attrs:{id:"accordionExample"}},[o("div",{staticClass:"accordion-item bg-white border border-gray-200"},[e._m(0),e._v(" "),o("div",{staticClass:"accordion-collapse collapse show",attrs:{id:"collapseOne","aria-labelledby":"headingOne","data-bs-parent":"#accordionFilters"}},[o("div",{staticClass:"accordion-body py-4 px-5"},[o("div",{staticClass:"grid grid-cols-4 gap-4 pb-6"},[o("div",{staticClass:"overflow-y-auto h-36 px-4 py-4"},[o("div",{staticClass:"accordion accordion-flush border-2 border-slate-300",attrs:{id:"accordionParishes"}},[o("div",{staticClass:"accordion-item rounded-none"},[e._m(1),e._v(" "),o("div",{staticClass:"accordion-collapse border-0 collapse show",attrs:{id:"flush-collapseOne","aria-labelledby":"flush-headingOne","data-bs-parent":"#accordionFlushExample"}},[o("div",{staticClass:"accordion-body py-4 px-5"},[o("ul",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"parishSelectMenu"}},e._l(e.parishNames,(function(t,n){return o("li",{key:n},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.filteredParishNames,expression:"filteredParishNames"}],staticClass:"dropdown-item",attrs:{id:t.canonical_name,name:"parish",type:"checkbox"},domProps:{value:t.canonical_name,checked:Array.isArray(e.filteredParishNames)?e._i(e.filteredParishNames,t.canonical_name)>-1:e.filteredParishNames},on:{click:e.reloadData,change:function(o){var n=e.filteredParishNames,r=o.target,l=!!r.checked;if(Array.isArray(n)){var d=t.canonical_name,c=e._i(n,d);r.checked?c<0&&(e.filteredParishNames=n.concat([d])):c>-1&&(e.filteredParishNames=n.slice(0,c).concat(n.slice(c+1)))}else e.filteredParishNames=l}}}),e._v(" "),o("label",{attrs:{for:t.canonical_name}},[o("span",[e._v(e._s(t.canonical_name))])])])})),0)])])])])]),e._v(" "),o("div",{staticClass:"overflow-y-auto h-34 px-4 py-4"},[o("div",{staticClass:"accordion accordion-flush border-2 border-slate-300",attrs:{id:"accordionYears"}},[o("div",{staticClass:"accordion-item rounded-none",staticStyle:{"min-height":"150px"}},[e._m(2),e._v(" "),o("div",{staticClass:"accordion-collapse border-0 collapse show",attrs:{id:"flush-collapseYear","aria-labelledby":"flush-headingOne","data-bs-parent":"#accordionFlushExample"}},[o("div",{staticClass:"accordion-body py-4 px-5"},[o("div",{staticClass:"slider-container"},[o("vue-slider",{attrs:{min:1640,max:1754,interval:1,"enable-cross":!1,lazy:!0,"dot-options":e.dotOptions},on:{change:e.reloadData},model:{value:e.filteredYears,callback:function(t){e.filteredYears=t},expression:"filteredYears"}})],1)])])])])]),e._v(" "),o("div",{staticClass:"overflow-y-auto h-34 px-4 py-4"},[o("div",{staticClass:"accordion accordion-flush border-2 border-slate-300",attrs:{id:"accordionCount"}},[o("div",{staticClass:"accordion-item rounded-none",staticStyle:{"min-height":"150px"}},[e._m(3),e._v(" "),o("div",{staticClass:"accordion-collapse border-0 collapse show",attrs:{id:"flush-collapseCount","aria-labelledby":"flush-headingOne","data-bs-parent":"#accordionFlushExample"}},[o("div",{staticClass:"accordion-body py-4 px-5"},[o("div",{staticClass:"dropdown relative"},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.filteredCountType,expression:"filteredCountType"}],staticClass:"\n                            dropdown-toggle\n                            px-6\n                            py-2.5\n                            bg-dbn-yellow\n                            text-white\n                            font-medium\n                            text-s\n                            leading-tight\n                            rounded\n                            shadow-md\n                            hover:bg-dbn-yellowdark hover:shadow-lg\n                            focus:bg-indigo-700\n                            focus:shadow-lg\n                            focus:outline-none\n                            focus:ring-0\n                            active:bg-indigo-800\n                            active:shadow-lg\n                            active:text-white\n                            transition\n                            duration-150\n                            ease-in-out\n                            flex\n                            items-center\n                            whitespace-nowrap\n                          ",attrs:{"data-bs-toggle":"dropdown","arias-expanded":"false"},on:{change:[function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.filteredCountType=t.target.multiple?o:o[0]},e.reloadData]}},[e._v("\n                          Dropdown button\n                          "),o("svg",{staticClass:"w-2 ml-2",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"caret-down",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"}},[o("path",{attrs:{fill:"currentColor",d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"}})]),e._v(" "),e._l(e.countType,(function(t,n){return o("option",{key:n,staticClass:"dropdown-menu min-w-max text-base float-left",domProps:{value:t},on:{change:e.reloadData}},[o("value",{staticClass:"\n                                dropdown-item\n                                text-sm\n                                py-2\n                                px-4\n                                font-normal\n                                block\n                                w-full\n                                whitespace-nowrap\n                                bg-transparent\n                              ",attrs:{id:t,value:t,name:"countType"}}),e._v(" "),o("text",{attrs:{for:e.countType}},[o("span",{staticClass:"\n                                  text-sm\n                                  hover:bg-gray-100\n                                  text-gray-700\n                                  block\n                                  px-4\n                                  py-2\n                                "},[e._v(e._s(t))])])],1)}))],2)])])])])])]),e._v(" "),o("div",{staticClass:"overflow-y-auto h-34 px-4 py-4"},[o("button",{staticClass:"\n                  text-xs\n                  font-bold\n                  uppercase\n                  px-5\n                  py-3\n                  m-0.5\n                  rounded\n                  block\n                  leading-normal\n                  border-solid border-2 border-dbn-yellow\n                  text-white\n                  bg-dbn-yellow\n                ",on:{click:e.resetFilters}},[e._v("\n                Reset Filters\n              ")]),e._v(" "),o("button",{staticClass:"\n                  text-xs\n                  font-bold\n                  uppercase\n                  px-5\n                  py-3\n                  rounded\n                  block\n                  leading-normal\n                  border-solid border-2 border-dbn-yellow\n                  text-white\n                  bg-dbn-yellow\n                ",on:{click:function(t){return e.$emit("apply-filters")}}},[e._v("\n                Apply Filters\n              ")])])])])])])]),e._v(" "),e.isLoading?o("div",{attrs:{id:"loading"}},[o("h1",[e._v("Loading...")])]):e._e(),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.isLoaded,expression:"isLoaded"}],attrs:{id:"loaded"},on:{load:e.isLoaded}},[o("vue-good-table",{attrs:{columns:e.parishColumns,rows:e.filteredData,"max-height":"600px","sort-options":{enabled:!0,initialSortBy:{field:"name",type:"asc"}},"fixed-header":!0,"pagination-options":{enabled:!0,mode:"records",perPage:25,position:"bottom",perPageDropdown:[25,50,100],dropdownAllowAll:!1,setCurrentPage:1,rowsPerPageLabel:"Rows per page",allLabel:"All records"},"style-class":"vgt-table condensed striped"},on:{"on-row-click":e.onRowClick},scopedSlots:e._u([{key:"table-column",fn:function(t){return["Parish"==t.column.label?o("span",[o("span",{staticClass:"hint--top",attrs:{"aria-label":"The names of the parishes."}},[e._v("\n                  "+e._s(t.column.label)+"\n                ")])]):"Count Type"==t.column.label?o("span",[o("span",{staticClass:"hint--top",attrs:{"aria-label":"The count type, either by the number in the parish with plague or the number buried in the parish."}},[e._v("\n                  "+e._s(t.column.label)+"\n                ")])]):"Count"==t.column.label?o("span",[o("span",{staticClass:"hint--top",attrs:{"aria-label":"The number of plague or buried in the parish."}},[e._v("\n                  "+e._s(t.column.label)+"\n                ")])]):"Week Number"==t.column.label?o("span",[o("span",{staticClass:"hint--top",attrs:{"aria-label":"The week number in the year."}},[e._v("\n                  "+e._s(t.column.label)+"\n                ")])]):"Year"==t.column.label?o("span",[o("span",{staticClass:"hint--top",attrs:{"aria-label":"The year for the data."}},[e._v("\n                  "+e._s(t.column.label)+"\n                ")])]):o("span",[e._v("\n                "+e._s(t.column.label)+"\n              ")])]}}])})],1)])])}),[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("h2",{staticClass:"accordion-header mb-0",attrs:{id:"headingOne"}},[o("button",{staticClass:"\n            accordion-button\n            relative\n            flex\n            items-center\n            w-full\n            py-4\n            px-5\n            text-base text-gray-800 text-left\n            bg-white\n            border-0\n            rounded-none\n            transition\n            focus:outline-none\n          ",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"}},[e._v("\n          Filter By\n        ")])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("h2",{staticClass:"accordion-header mb-0",attrs:{id:"parish-headingOne"}},[o("button",{staticClass:"\n                        accordion-button\n                        collapsed\n                        relative\n                        flex\n                        items-center\n                        w-full\n                        py-4\n                        px-5\n                        text-base text-gray-800 text-left\n                        bg-white\n                        border-0\n                        rounded-none\n                        transition\n                        focus:outline-none\n                      ",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseOne","aria-expanded":"false","aria-controls":"flush-collapseOne"}},[e._v("\n                      Parishes\n                    ")])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("h2",{staticClass:"accordion-header mb-0",attrs:{id:"years-headingOne"}},[o("button",{staticClass:"\n                        accordion-button\n                        collapsed\n                        relative\n                        flex\n                        items-center\n                        w-full\n                        py-4\n                        px-5\n                        text-base text-gray-800 text-left\n                        bg-white\n                        border-0\n                        rounded-none\n                        transition\n                        focus:outline-none\n                      ",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseYear","aria-expanded":"false","aria-controls":"flush-collapseYear"}},[e._v("\n                      Year Range\n                    ")])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("h2",{staticClass:"accordion-header mb-0",attrs:{id:"count-headingOne"}},[o("button",{staticClass:"\n                        accordion-button\n                        collapsed\n                        relative\n                        flex\n                        items-center\n                        w-full\n                        py-4\n                        px-5\n                        text-base text-gray-800 text-left\n                        bg-white\n                        border-0\n                        rounded-none\n                        transition\n                        focus:outline-none\n                      ",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseCount","aria-expanded":"false","aria-controls":"flush-collapseCount"}},[e._v("\n                      Count Type\n                    ")])])}],!1,null,"26dca80d",null);t.default=component.exports}}]);