(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{360:function(e,t,r){var content=r(362);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(76).default)("7be48644",content,!0,{sourceMap:!1})},362:function(e,t,r){var o=r(74)((function(i){return i[1]}));o.push([e.i,'.vue-slider-disabled .vue-slider-process{background-color:#a7a7a7}.vue-slider-disabled .vue-slider-dot-handle{border-color:#a7a7a7}.vue-slider-disabled .vue-slider-mark-step-active{box-shadow:0 0 0 2px #a7a7a7}.vue-slider-rail{background-color:#f5f5f5;border-radius:15px;transition:background-color .3s}.vue-slider:hover .vue-slider-rail{background-color:#e1e1e1}.vue-slider-process{background-color:#9cd5ff;border-radius:15px;transition:background-color .3s}.vue-slider:hover .vue-slider-process{background-color:#69c0ff}.vue-slider-mark-step{width:100%;height:100%;border-radius:50%;box-shadow:0 0 0 2px #e8e8e8;background-color:#fff}.vue-slider-mark-step-active{box-shadow:0 0 0 2px #9cd5ff}.vue-slider:hover .vue-slider-mark-step-active{box-shadow:0 0 0 2px #69c0ff}.vue-slider-mark-label{font-size:12px;white-space:nowrap}.vue-slider-dot-handle{cursor:pointer;width:100%;height:100%;border-radius:50%;background-color:#fff;border:2px solid #9cd5ff;box-sizing:border-box;transition:box-shadow .3s,border-color .3s}.vue-slider:hover .vue-slider-dot-handle{border-color:#69c0ff}.vue-slider-dot-handle-focus{border-color:#36abff;box-shadow:0 0 0 5px rgba(54,171,255,.2)}.vue-slider-dot-handle:hover,.vue-slider:hover .vue-slider-dot-handle-focus,.vue-slider:hover .vue-slider-dot-handle:hover{border-color:#36abff}.vue-slider-dot-handle-disabled{cursor:not-allowed;border-color:#ddd!important}.vue-slider-dot-tooltip{opacity:0;visibility:hidden;transition:all .3s}.vue-slider-dot-tooltip-inner{font-size:14px;white-space:nowrap;padding:6px 8px;color:#fff;border-radius:5px;border-color:rgba(0,0,0,.75);background-color:rgba(0,0,0,.75);box-shadow:0 2px 8px rgba(0,0,0,.15);transform:scale(.9);transition:transform .3s}.vue-slider-dot-tooltip-inner:after{content:"";position:absolute}.vue-slider-dot-tooltip-inner-top:after{top:100%;left:50%;transform:translate(-50%);height:0;width:0;border:5px solid transparent;border-top-color:inherit}.vue-slider-dot-tooltip-inner-bottom:after{bottom:100%;left:50%;transform:translate(-50%);height:0;width:0;border:5px solid transparent;border-bottom-color:inherit}.vue-slider-dot-tooltip-inner-left:after{left:100%;top:50%;transform:translateY(-50%);height:0;width:0;border:5px solid transparent;border-left-color:inherit}.vue-slider-dot-tooltip-inner-right:after{right:100%;top:50%;transform:translateY(-50%);height:0;width:0;border:5px solid transparent;border-right-color:inherit}.vue-slider-dot-tooltip-inner-top{transform-origin:50% 100%}.vue-slider-dot-tooltip-inner-bottom{transform-origin:50% 0}.vue-slider-dot-tooltip-inner-left{transform-origin:100% 50%}.vue-slider-dot-tooltip-inner-right{transform-origin:0 50%}.vue-slider-dot-tooltip-show,.vue-slider-dot:hover .vue-slider-dot-tooltip{opacity:1;visibility:visible}.vue-slider-dot-tooltip-show .vue-slider-dot-tooltip-inner,.vue-slider-dot:hover .vue-slider-dot-tooltip .vue-slider-dot-tooltip-inner{transform:scale(1)}',""]),o.locals={},e.exports=o},379:function(e,t,r){"use strict";r.r(t);r(46),r(22),r(93),r(94),r(45),r(33),r(157);var o=r(75),l=r.n(o),n=r(358),d=r.n(n),c=(r(360),{name:"DeathCausesTable",components:{VueSlider:d.a},data:function(){return{search:"",totalDeaths:[],causesList:[],totalRecords:0,errors:[],columns:[{label:"Cause",field:"death"},{label:"Count",field:"count",type:"number"},{label:"Week Number",field:"week_no",type:"number"},{label:"Year",field:"year",type:"date",dateInputFormat:"yyyy",dateOutputFormat:"yyyy"}],dotOptions:[{tooltip:"always"},{tooltip:"always"}],filteredYears:[1640,1754],filteredCauseIDs:[],serverParams:{limit:25,offset:0,causes:"",year:[1640,1754],perPage:25,page:1}}},computed:{filterCausesList:function(){var e=this;return this.causesList.filter((function(t){return t.name.toLowerCase().includes(e.search.toLowerCase())}))}},mounted:function(){var e=this;l.a.get("https://data.chnm.org/bom/causes?start-year="+this.serverParams.year[0]+"&end-year="+this.serverParams.year[1]+"&id="+this.serverParams.causes+"&limit="+this.serverParams.limit+"&offset="+this.serverParams.offset).then((function(t){e.totalDeaths=t.data})).catch((function(t){e.errors.push(t),console.log(e.errors)})),l.a.get("https://data.chnm.org/bom/totalbills?type=Causes").then((function(t){e.totalRecords=t.data[0].total_records})).catch((function(t){e.errors.push(t),console.log(e.errors)})),l.a.get("https://data.chnm.org/bom/list-deaths").then((function(t){e.causesList=t.data})).catch((function(t){e.errors.push(t),console.log(e.errors)}))},methods:{updateParams:function(e){this.serverParams=Object.assign({},this.serverParams,e)},onPageChange:function(e){this.updateParams({page:e.currentPage,offset:(e.currentPage-1)*e.currentPerPage}),this.loadItems()},onPerPageChange:function(e){this.updateParams({perPage:e.currentPerPage}),this.loadItems()},loadItems:function(){var e=this;return l.a.get("https://data.chnm.org/bom/causes?start-year="+this.filteredYears[0]+"&end-year="+this.filteredYears[1]+"&id="+this.serverParams.causes+"&limit="+this.serverParams.limit+"&offset="+this.serverParams.offset).then((function(t){e.totalDeaths=t.data})).catch((function(t){e.errors.push(t),console.log(e.errors)}))},applyFilters:function(){this.updateParams({causes:this.filteredCauseIDs,year:this.filteredYears}),this.loadItems()},resetFilters:function(){this.filteredCauseIDs=[],this.filteredYears=[1640,1754],this.search="",this.updateParams({causes:[],year:[1640,1754]}),this.loadItems()}}}),h=r(60),component=Object(h.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"accordion",attrs:{id:"filters"}},[r("div",{staticClass:"filter-item bg-white border border-gray-200 rounded-none"},[e._m(0),e._v(" "),r("div",{staticClass:"accordion-collapse collapse show",attrs:{id:"collapseOne","aria-labelledby":"headingOne","data-bs-parent":"#accordionFilters"}},[r("div",{staticClass:"accordion-body py-4 px-5"},[r("div",{staticClass:"grid grid-cols-4 gap-4 pb-6"},[r("div",{staticClass:"overflow-y-auto h-48 px-4 py-4"},[r("div",{staticClass:"accordion accordion-flush border-2 border-slate-300",attrs:{id:"accordionParishes"}},[r("div",{staticClass:"accordion-item rounded-none"},[e._m(1),e._v(" "),r("div",{staticClass:"accordion-collapse border-0 collapse show",attrs:{id:"flush-collapseOne","aria-labelledby":"flush-headingOne","data-bs-parent":"#accordionFlushExample"}},[r("div",{staticClass:"accordion-body py-4 px-5"},[r("div",{staticClass:"py-3",attrs:{id:"search-wrapper"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",attrs:{type:"text",placeholder:"Search causes of death"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})]),e._v(" "),r("ul",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"parish-selection-menu"}},e._l(e.filterCausesList,(function(t,o){return r("li",{key:o},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.filteredCauseIDs,expression:"filteredCauseIDs"}],staticClass:"dropdown-item",attrs:{id:"cause-"+o,name:"causes",type:"checkbox"},domProps:{value:t.id,checked:Array.isArray(e.filteredCauseIDs)?e._i(e.filteredCauseIDs,t.id)>-1:e.filteredCauseIDs},on:{change:function(r){var o=e.filteredCauseIDs,l=r.target,n=!!l.checked;if(Array.isArray(o)){var d=t.id,c=e._i(o,d);l.checked?c<0&&(e.filteredCauseIDs=o.concat([d])):c>-1&&(e.filteredCauseIDs=o.slice(0,c).concat(o.slice(c+1)))}else e.filteredCauseIDs=n}}}),e._v(" "),r("label",{attrs:{for:t.name}},[r("span",[e._v(e._s(t.name))])])])})),0)])])])])]),e._v(" "),r("div",{staticClass:"overflow-y-auto h-48 px-4 py-4"},[r("div",{staticClass:"accordion accordion-flush border-2 border-slate-300",attrs:{id:"accordionYears"}},[r("div",{staticClass:"accordion-item rounded-none"},[e._m(2),e._v(" "),r("div",{staticClass:"accordion-collapse border-0 collapse show",attrs:{id:"flush-collapseYear","aria-labelledby":"flush-headingOne","data-bs-parent":"#accordionFlushExample"}},[r("div",{staticClass:"accordion-body py-4 px-5"},[r("div",{staticClass:"slider-container"},[r("vue-slider",{attrs:{min:1640,max:1754,interval:1,"enable-cross":!1,lazy:!0,"dot-options":e.dotOptions},model:{value:e.filteredYears,callback:function(t){e.filteredYears=t},expression:"filteredYears"}})],1)])])])])]),e._v(" "),r("div",{staticClass:"overflow-y-auto h-48 px-4 py-4"}),e._v(" "),r("div",{staticClass:"overflow-y-auto h-48 px-4 py-4"},[r("button",{staticClass:"text-xs font-bold uppercase px-5 py-3 m-0.5 w-40 rounded block leading-normal border-solid border-2 border-dbn-yellow text-white bg-dbn-yellow hover:bg-dbn-yellowdark",on:{click:e.resetFilters}},[e._v("\n                Reset Filters\n              ")]),e._v(" "),r("button",{staticClass:"text-xs font-bold uppercase px-5 py-3 m-0.5 w-40 rounded block leading-normal border-solid border-2 border-dbn-yellow text-white bg-dbn-yellow hover:bg-dbn-yellowdark",on:{click:function(t){return e.applyFilters()}}},[e._v("\n                Apply Filters\n              ")])])])])])])]),e._v(" "),r("vue-good-table",{attrs:{mode:"remote",columns:e.columns,rows:e.totalDeaths,"total-rows":e.totalRecords,"max-height":"600px","fixed-header":!0,"pagination-options":{enabled:!0,position:"bottom",perPageDropdown:[25,50,100],dropdownAllowAll:!1,firstLabel:"First page",lastLable:"Last page",nextLabel:"Next page",previousLabel:"Previous page",rowsPerPageLabel:"Causes per page"},"sort-options":{enabled:!1},"search-options":{enabled:!1},"style-class":"vgt-table condensed striped"},on:{"on-page-change":e.onPageChange,"on-per-page-change":e.onPerPageChange},scopedSlots:e._u([{key:"table-column",fn:function(t){return["Cause"==t.column.label?r("span",[r("span",{staticClass:"hint--top",attrs:{"aria-label":"The cause of death."}},[e._v("\n          "+e._s(t.column.label)+"\n        ")])]):"Count"==t.column.label?r("span",[r("span",{staticClass:"hint--top",attrs:{"aria-label":"The total cause of death."}},[e._v("\n          "+e._s(t.column.label)+"\n        ")])]):"Week Number"==t.column.label?r("span",[r("span",{staticClass:"hint--top",attrs:{"aria-label":"The week number in the year."}},[e._v("\n          "+e._s(t.column.label)+"\n        ")])]):"Year"==t.column.label?r("span",[r("span",{staticClass:"hint--top",attrs:{"aria-label":"The year for the data."}},[e._v("\n          "+e._s(t.column.label)+"\n        ")])]):r("span",[e._v("\n        "+e._s(t.column.label)+"\n      ")])]}}])})],1)}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h2",{staticClass:"accordion-header mb-0",attrs:{id:"headingOne"}},[r("button",{staticClass:"accordion-button relative flex items-center w-full py-4 px-5 text-base text-dbn-purple text-left bg-white border-0 rounded-none transition focus:outline-none",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"}},[e._v("\n          Filter By\n        ")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h2",{staticClass:"accordion-header mb-0",attrs:{id:"parish-headingOne"}},[r("button",{staticClass:"accordion-button collapsed relative flex items-center w-full py-4 px-5 text-base text-gray-800 text-left bg-white border-0 rounded-none transition focus:outline-none",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseOne","aria-expanded":"false","aria-controls":"flush-collapseOne"}},[e._v("\n                      Causes of Death\n                    ")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h2",{staticClass:"accordion-header mb-0",attrs:{id:"years-headingOne"}},[r("button",{staticClass:"accordion-button collapsed relative flex items-center w-full py-4 px-5 text-base text-gray-800 text-left bg-white border-0 rounded-none transition focus:outline-none",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseYear","aria-expanded":"false","aria-controls":"flush-collapseYear"}},[e._v("\n                      Year Range\n                    ")])])}],!1,null,null,null);t.default=component.exports}}]);