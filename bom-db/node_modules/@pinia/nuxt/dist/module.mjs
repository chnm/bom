

// -- Unbuild CommonJS Shims --
import __cjs_url__ from 'url';
import __cjs_path__ from 'path';
import __cjs_mod__ from 'module';
const __filename = __cjs_url__.fileURLToPath(import.meta.url);
const __dirname = __cjs_path__.dirname(__filename);
const require = __cjs_mod__.createRequire(import.meta.url);
const DEFAULTS = {
  disableVuex: true
};
const module = (function(_options) {
  const nuxt = this.nuxt;
  const options = {
    ...DEFAULTS,
    ..._options || {},
    ...nuxt.options.pinia || {}
  };
  if (nuxt.options.features && options.disableVuex) {
    nuxt.options.features.store = false;
  }
  nuxt.options.alias.pinia = "pinia/dist/pinia.mjs";
  this.addPlugin({ src: require.resolve("./plugin.mjs") });
});

export { module as default };
